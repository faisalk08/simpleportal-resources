/*
 * Automatically generated by SP Control panel
 * CRUD service.js for including the various packages required.
 */<%
var validatoncount = 0,
	fieldscount =modelfields.length;
for( var fieldIndex in modelfields) {
	var modelfield = modelfields[fieldIndex];
  	if(modelfield.validation&&modelfield.validation!=='') {
		validatoncount++;
  	}
}%>
var simpleportal = require("simpleportal");

var <%= name %>Service = new simpleportal.Service.CRUDService({
	"collection":"<%= collection ? collection : name %>", 
	"name":"<%= name %>", modify:<%= modify %>
	<%if(typeof title!='undefined' && title){%>,"title":"<%= title %>"<%}%>
	<%if(typeof description!='undefined' && description){%>,"description":"<%= description %>"<%}%>
	<%if(typeof primaryKey != 'undefined' && primaryKey){%>,"primaryKey":"<%= primaryKey %>"<%}%>
	<%if(typeof primaryKeyFields != 'undefined' && primaryKeyFields){%>,"primaryKeyFields":"<%= primaryKeyFields %>"<%}%>
	<%if(typeof userrole!='undefined'&&userrole&&userrole!=''){%>, "userrole":"<%= userrole %>"<%}%>
	,model:<%if(typeof model === 'object'){%><%- JSON.stringify(model, null, "\t\t") %><%}else{%>{<%for( var fieldIndex in modelfields){var modelfield = modelfields[fieldIndex];if((typeof modelfield.defaultvalue == 'string' )){%>
		"<%= modelfield.field %>":"<%= modelfield.defaultvalue %>"<%}else if(modelfield.defaultvalue){%>"<%= modelfield.field %>":<%= modelfield.defaultvalue %><%}else{%>"<%= modelfield.field %>":""<%}%><%if(fieldIndex!=fieldscount-1){%>,<%}%><%}%>
	}<%}if(typeof configuration ==='object'){%>, configuration:<%- JSON.stringify(configuration, null, "\t\t") %><%}%>
});

/*
 * Exporting the Sponsor service.
 */
module.exports = <%= name %>Service;